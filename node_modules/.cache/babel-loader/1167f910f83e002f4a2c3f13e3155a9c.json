{"ast":null,"code":"import React from\"react\";import*as d3 from\"d3\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Arc=function Arc(_ref){var data=_ref.data,index=_ref.index,createArc=_ref.createArc,colors=_ref.colors,format=_ref.format;return/*#__PURE__*/_jsxs(\"g\",{className:\"arc\",children:[/*#__PURE__*/_jsx(\"path\",{className:\"arc\",d:createArc(data),fill:colors(index)}),/*#__PURE__*/_jsx(\"text\",{transform:\"translate(\".concat(createArc.centroid(data),\")\"),textAnchor:\"middle\",fill:\"black\",fontSize:\"12\",children:data.data.name})]},index);};var Pie=function Pie(props){var createPie=d3.pie().value(function(d){return d.value;}).sort(null);var createArc=d3.arc().innerRadius(props.innerRadius).outerRadius(props.outerRadius);var colors=d3.scaleOrdinal(d3.schemeSet3);var format=d3.format(\".2f\");var data=createPie(props.data);var mergeData=function mergeData(n,data){var mergedData=0;for(var i=0;i<=data.length;i++){if(i>n){mergedData+=data[i].value;}}};return/*#__PURE__*/_jsx(\"svg\",{width:props.width,height:props.height,children:/*#__PURE__*/_jsx(\"g\",{transform:\"translate(\".concat(props.outerRadius,\" \").concat(props.outerRadius,\")\"),children:data.map(function(d,i){// if (i > 15)\nreturn/*#__PURE__*/_jsx(Arc,{index:i,data:d,createArc:createArc,colors:colors,format:format},i);})})});};export default Pie;","map":{"version":3,"names":["React","d3","Arc","data","index","createArc","colors","format","centroid","name","Pie","props","createPie","pie","value","d","sort","arc","innerRadius","outerRadius","scaleOrdinal","schemeSet3","mergeData","n","mergedData","i","length","width","height","map"],"sources":["/home/fenix/Projects/graphs/src/components/pie-chart/index.js"],"sourcesContent":["import React from \"react\";\nimport * as d3 from \"d3\";\n\nconst Arc = ({ data, index, createArc, colors, format }) => {\n  return (\n  <g key={index} className=\"arc\">\n    <path className=\"arc\" d={createArc(data)} fill={colors(index)} />\n    <text\n      transform={`translate(${createArc.centroid(data)})`}\n      textAnchor=\"middle\"\n      fill=\"black\"\n      fontSize=\"12\"\n    >\n      {data.data.name}\n    </text>\n  </g>\n)};\n\nconst Pie = props => {\n  const createPie = d3\n    .pie()\n    .value(d => d.value)\n    .sort(null);\n\n  const createArc = d3\n    .arc()\n    .innerRadius(props.innerRadius)\n    .outerRadius(props.outerRadius);\n\n  const colors = d3.scaleOrdinal(d3.schemeSet3);\n  const format = d3.format(\".2f\");\n  const data = createPie(props.data);\n  \n  const mergeData = (n, data) => {\n    let mergedData = 0;\n    for(let i = 0; i <= data.length; i++) {\n      if (i > n) {  \n        mergedData += data[i].value \n      }\n    }\n  }\n  return (\n    <svg width={props.width} height={props.height}>\n      <g transform={`translate(${props.outerRadius} ${props.outerRadius})`}>\n        {data.map((d, i) => \n        {\n          // if (i > 15)\n          return (\n          <Arc\n            key={i}\n            index={i}\n            data={d}\n            createArc={createArc}\n            colors={colors}\n            format={format}\n          />\n        )})}\n      </g>\n    </svg>\n  );\n};\n\nexport default Pie;\n"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,EAAZ,KAAoB,IAApB,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,MAAgD,IAA7CC,CAAAA,IAA6C,MAA7CA,IAA6C,CAAvCC,KAAuC,MAAvCA,KAAuC,CAAhCC,SAAgC,MAAhCA,SAAgC,CAArBC,MAAqB,MAArBA,MAAqB,CAAbC,MAAa,MAAbA,MAAa,CAC1D,mBACA,WAAe,SAAS,CAAC,KAAzB,wBACE,aAAM,SAAS,CAAC,KAAhB,CAAsB,CAAC,CAAEF,SAAS,CAACF,IAAD,CAAlC,CAA0C,IAAI,CAAEG,MAAM,CAACF,KAAD,CAAtD,EADF,cAEE,aACE,SAAS,qBAAeC,SAAS,CAACG,QAAV,CAAmBL,IAAnB,CAAf,KADX,CAEE,UAAU,CAAC,QAFb,CAGE,IAAI,CAAC,OAHP,CAIE,QAAQ,CAAC,IAJX,UAMGA,IAAI,CAACA,IAAL,CAAUM,IANb,EAFF,GAAQL,KAAR,CADA,CAYA,CAbF,CAeA,GAAMM,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,CAAAC,KAAK,CAAI,CACnB,GAAMC,CAAAA,SAAS,CAAGX,EAAE,CACjBY,GADe,GAEfC,KAFe,CAET,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACD,KAAN,EAFQ,EAGfE,IAHe,CAGV,IAHU,CAAlB,CAKA,GAAMX,CAAAA,SAAS,CAAGJ,EAAE,CACjBgB,GADe,GAEfC,WAFe,CAEHP,KAAK,CAACO,WAFH,EAGfC,WAHe,CAGHR,KAAK,CAACQ,WAHH,CAAlB,CAKA,GAAMb,CAAAA,MAAM,CAAGL,EAAE,CAACmB,YAAH,CAAgBnB,EAAE,CAACoB,UAAnB,CAAf,CACA,GAAMd,CAAAA,MAAM,CAAGN,EAAE,CAACM,MAAH,CAAU,KAAV,CAAf,CACA,GAAMJ,CAAAA,IAAI,CAAGS,SAAS,CAACD,KAAK,CAACR,IAAP,CAAtB,CAEA,GAAMmB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,CAAD,CAAIpB,IAAJ,CAAa,CAC7B,GAAIqB,CAAAA,UAAU,CAAG,CAAjB,CACA,IAAI,GAAIC,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,EAAItB,IAAI,CAACuB,MAAzB,CAAiCD,CAAC,EAAlC,CAAsC,CACpC,GAAIA,CAAC,CAAGF,CAAR,CAAW,CACTC,UAAU,EAAIrB,IAAI,CAACsB,CAAD,CAAJ,CAAQX,KAAtB,CACD,CACF,CACF,CAPD,CAQA,mBACE,YAAK,KAAK,CAAEH,KAAK,CAACgB,KAAlB,CAAyB,MAAM,CAAEhB,KAAK,CAACiB,MAAvC,uBACE,UAAG,SAAS,qBAAejB,KAAK,CAACQ,WAArB,aAAoCR,KAAK,CAACQ,WAA1C,KAAZ,UACGhB,IAAI,CAAC0B,GAAL,CAAS,SAACd,CAAD,CAAIU,CAAJ,CACV,CACE;AACA,mBACA,KAAC,GAAD,EAEE,KAAK,CAAEA,CAFT,CAGE,IAAI,CAAEV,CAHR,CAIE,SAAS,CAAEV,SAJb,CAKE,MAAM,CAAEC,MALV,CAME,MAAM,CAAEC,MANV,EACOkB,CADP,CADA,CASA,CAZD,CADH,EADF,EADF,CAmBD,CA1CD,CA4CA,cAAef,CAAAA,GAAf"},"metadata":{},"sourceType":"module"}